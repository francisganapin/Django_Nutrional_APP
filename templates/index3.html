<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Delete Food Item</title>
    <!-- Include any necessary CSS files -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <style>
        /* Add your custom styles here */
    </style>
</head>
<body>
    <div class="container mt-4">
        <h2>Delete Food Item</h2>

        <!-- Search and filter form -->
        <div class="search-container mb-4">
            <form action="" method="get">
                <div class="form-row">
                    <div class="col-md-6 mb-3">
                        <input type="text" id="search" class="form-control" placeholder="Search..." name="search" value="{{ search_input }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <select id="category" class="form-control" name="category">
                            <option value="all" {% if not category_input %}selected{% endif %}>All</option>
                            <option value="name" {% if category_input == 'name' %}selected{% endif %}>Name</option>
                            <option value="category" {% if category_input == 'category' %}selected{% endif %}>Category</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Apply Filters</button>
            </form>
        </div>

        <!-- Display filtered data -->
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Measure</th>
                        <th>Grams</th>
                        <th>Calories</th>
                        <th>protein</th>
                        <th>Fat</th>
                        <th>Saturated</th>
                        <th>Fiber</th>
                        <th>Carbohydrates</th>
                        <th>Category</th>
                        <th>Action</th> <!-- New column for action -->
                    </tr>
                </thead>
                <tbody>
                    {% for item in data %}
                    <tr>
                        <td>{{ item.name }}</td>
                        <td>{{ item.measure }}</td>
                        <td>{{ item.grams }}</td>
                        <td>{{ item.calories }}</td>
                        <td>{{ item.protein }}</td>
                        <td>{{ item.fat }}</td>
                        <td>{{ item.saturated_fat }}</td>
                        <td>{{ item.fiber }}</td>
                        <td>{{ item.carbohydrates }}</td>
                        <td>{{ item.category }}</td>

                        <td>
                            <form action="{% url 'food_remove' %}" method="post">
                                {% csrf_token %}
                                <input type="hidden" name="item_name" value="{{ item.name }}">
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                            </form>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="3">No items found</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Include any necessary JavaScript files -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</body>
</html>